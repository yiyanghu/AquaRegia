<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Wed Apr 09 14:55:46 CDT 2014 -->
<title>Message</title>
<meta name="date" content="2014-04-09">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Message";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Message.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/google/bitcoin/core/MemoryPoolTest.html" title="class in com.google.bitcoin.core"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/google/bitcoin/core/Message.LazyParseException.html" title="class in com.google.bitcoin.core"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/google/bitcoin/core/Message.html" target="_top">Frames</a></li>
<li><a href="Message.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.google.bitcoin.core</div>
<h2 title="Class Message" class="title">Class Message</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.google.bitcoin.core.Message</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Serializable</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../com/google/bitcoin/core/AddressMessage.html" title="class in com.google.bitcoin.core">AddressMessage</a>, <a href="../../../../com/google/bitcoin/core/AlertMessage.html" title="class in com.google.bitcoin.core">AlertMessage</a>, <a href="../../../../com/google/bitcoin/core/Block.html" title="class in com.google.bitcoin.core">Block</a>, <a href="../../../../com/google/bitcoin/core/BloomFilter.html" title="class in com.google.bitcoin.core">BloomFilter</a>, <a href="../../../../com/google/bitcoin/core/ChildMessage.html" title="class in com.google.bitcoin.core">ChildMessage</a>, <a href="../../../../com/google/bitcoin/core/EmptyMessage.html" title="class in com.google.bitcoin.core">EmptyMessage</a>, <a href="../../../../com/google/bitcoin/core/FilteredBlock.html" title="class in com.google.bitcoin.core">FilteredBlock</a>, <a href="../../../../com/google/bitcoin/core/GetBlocksMessage.html" title="class in com.google.bitcoin.core">GetBlocksMessage</a>, <a href="../../../../com/google/bitcoin/core/HeadersMessage.html" title="class in com.google.bitcoin.core">HeadersMessage</a>, <a href="../../../../com/google/bitcoin/core/ListMessage.html" title="class in com.google.bitcoin.core">ListMessage</a>, <a href="../../../../com/google/bitcoin/core/MemoryPoolMessage.html" title="class in com.google.bitcoin.core">MemoryPoolMessage</a>, <a href="../../../../com/google/bitcoin/core/PartialMerkleTree.html" title="class in com.google.bitcoin.core">PartialMerkleTree</a>, <a href="../../../../com/google/bitcoin/core/Ping.html" title="class in com.google.bitcoin.core">Ping</a>, <a href="../../../../com/google/bitcoin/core/Pong.html" title="class in com.google.bitcoin.core">Pong</a>, <a href="../../../../com/google/bitcoin/core/VersionMessage.html" title="class in com.google.bitcoin.core">VersionMessage</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">Message</span>
extends java.lang.Object
implements java.io.Serializable</pre>
<div class="block"><p>A Message is a data structure that can be serialized/deserialized using both the Bitcoin proprietary serialization
 format and built-in Java object serialization. Specific types of messages that are used both in the block chain,
 and on the wire, are derived from this class.</p></div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../serialized-form.html#com.google.bitcoin.core.Message">Serialized Form</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Message.LazyParseException.html" title="class in com.google.bitcoin.core">Message.LazyParseException</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Message.html#MAX_SIZE">MAX_SIZE</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Message.html#UNKNOWN_LENGTH">UNKNOWN_LENGTH</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Message.html#bitcoinSerialize()">bitcoinSerialize</a></strong>()</code>
<div class="block">Returns a copy of the array returned by <a href="../../../../com/google/bitcoin/core/Message.html#unsafeBitcoinSerialize()"><code>unsafeBitcoinSerialize()</code></a>, which is safe to mutate.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Message.html#bitcoinSerialize(java.io.OutputStream)">bitcoinSerialize</a></strong>(java.io.OutputStream&nbsp;stream)</code>
<div class="block">Serialize this message to the provided OutputStream using the bitcoin wire format.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Message.html#ensureParsed()">ensureParsed</a></strong>()</code>
<div class="block">In lazy parsing mode access to getters and setters may throw an unchecked LazyParseException.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/google/bitcoin/core/Sha256Hash.html" title="class in com.google.bitcoin.core">Sha256Hash</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Message.html#getHash()">getHash</a></strong>()</code>
<div class="block">This method is a NOP for all classes except Block and Transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Message.html#getMessageSize()">getMessageSize</a></strong>()</code>
<div class="block">This should be overridden to extract correct message size in the case of lazy parsing.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/google/bitcoin/core/NetworkParameters.html" title="class in com.google.bitcoin.core">NetworkParameters</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Message.html#getParams()">getParams</a></strong>()</code>
<div class="block">Network parameters this message was created with.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Message.html#isCached()">isCached</a></strong>()</code>
<div class="block">used for unit testing</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Message.html#isParsed()">isParsed</a></strong>()</code>
<div class="block">used for unit testing</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Message.html#isRecached()">isRecached</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Message.html#unsafeBitcoinSerialize()">unsafeBitcoinSerialize</a></strong>()</code>
<div class="block">Serialize this message to a byte array that conforms to the bitcoin wire protocol.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="MAX_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_SIZE</h4>
<pre>public static final&nbsp;int MAX_SIZE</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#com.google.bitcoin.core.Message.MAX_SIZE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="UNKNOWN_LENGTH">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>UNKNOWN_LENGTH</h4>
<pre>public static final&nbsp;int UNKNOWN_LENGTH</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#com.google.bitcoin.core.Message.UNKNOWN_LENGTH">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="ensureParsed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureParsed</h4>
<pre>public&nbsp;void&nbsp;ensureParsed()
                  throws <a href="../../../../com/google/bitcoin/core/ProtocolException.html" title="class in com.google.bitcoin.core">ProtocolException</a></pre>
<div class="block">In lazy parsing mode access to getters and setters may throw an unchecked LazyParseException.  If guaranteed safe access is required
 this method will force parsing to occur immediately thus ensuring LazyParseExeption will never be thrown from this Message.
 If the Message contains child messages (e.g. a Block containing Transaction messages) this will not force child messages to parse.
 <p/>
 This could be overidden for Transaction and it's child classes to ensure the entire tree of Message objects is parsed.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../com/google/bitcoin/core/ProtocolException.html" title="class in com.google.bitcoin.core">ProtocolException</a></code></dd></dl>
</li>
</ul>
<a name="isParsed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isParsed</h4>
<pre>public&nbsp;boolean&nbsp;isParsed()</pre>
<div class="block">used for unit testing</div>
</li>
</ul>
<a name="isCached()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCached</h4>
<pre>public&nbsp;boolean&nbsp;isCached()</pre>
<div class="block">used for unit testing</div>
</li>
</ul>
<a name="isRecached()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRecached</h4>
<pre>public&nbsp;boolean&nbsp;isRecached()</pre>
</li>
</ul>
<a name="bitcoinSerialize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bitcoinSerialize</h4>
<pre>public&nbsp;byte[]&nbsp;bitcoinSerialize()</pre>
<div class="block">Returns a copy of the array returned by <a href="../../../../com/google/bitcoin/core/Message.html#unsafeBitcoinSerialize()"><code>unsafeBitcoinSerialize()</code></a>, which is safe to mutate.
 If you need extra performance and can guarantee you won't write to the array, you can use the unsafe version.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a freshly allocated serialized byte array</dd></dl>
</li>
</ul>
<a name="unsafeBitcoinSerialize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unsafeBitcoinSerialize</h4>
<pre>public&nbsp;byte[]&nbsp;unsafeBitcoinSerialize()</pre>
<div class="block">Serialize this message to a byte array that conforms to the bitcoin wire protocol.
 <br/>
 This method may return the original byte array used to construct this message if the
 following conditions are met:
 <ol>
 <li>1) The message was parsed from a byte array with parseRetain = true</li>
 <li>2) The message has not been modified</li>
 <li>3) The array had an offset of 0 and no surplus bytes</li>
 </ol>

 If condition 3 is not met then an copy of the relevant portion of the array will be returned.
 Otherwise a full serialize will occur. For this reason you should only use this API if you can guarantee you
 will treat the resulting array as read only.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a byte array owned by this object, do NOT mutate it.</dd></dl>
</li>
</ul>
<a name="bitcoinSerialize(java.io.OutputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bitcoinSerialize</h4>
<pre>public final&nbsp;void&nbsp;bitcoinSerialize(java.io.OutputStream&nbsp;stream)
                            throws java.io.IOException</pre>
<div class="block">Serialize this message to the provided OutputStream using the bitcoin wire format.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>stream</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getHash()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHash</h4>
<pre>public&nbsp;<a href="../../../../com/google/bitcoin/core/Sha256Hash.html" title="class in com.google.bitcoin.core">Sha256Hash</a>&nbsp;getHash()</pre>
<div class="block">This method is a NOP for all classes except Block and Transaction.  It is only declared in Message
 so BitcoinSerializer can avoid 2 instanceof checks + a casting.</div>
</li>
</ul>
<a name="getMessageSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessageSize</h4>
<pre>public&nbsp;int&nbsp;getMessageSize()</pre>
<div class="block">This should be overridden to extract correct message size in the case of lazy parsing.  Until this method is
 implemented in a subclass of ChildMessage lazy parsing may have no effect.

 This default implementation is a safe fall back that will ensure it returns a correct value by parsing the message.</div>
</li>
</ul>
<a name="getParams()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getParams</h4>
<pre>public&nbsp;<a href="../../../../com/google/bitcoin/core/NetworkParameters.html" title="class in com.google.bitcoin.core">NetworkParameters</a>&nbsp;getParams()</pre>
<div class="block">Network parameters this message was created with.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Message.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/google/bitcoin/core/MemoryPoolTest.html" title="class in com.google.bitcoin.core"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/google/bitcoin/core/Message.LazyParseException.html" title="class in com.google.bitcoin.core"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/google/bitcoin/core/Message.html" target="_top">Frames</a></li>
<li><a href="Message.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
