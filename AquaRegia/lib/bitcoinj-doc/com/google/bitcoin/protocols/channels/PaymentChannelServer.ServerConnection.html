<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Wed Apr 09 14:55:48 CDT 2014 -->
<title>PaymentChannelServer.ServerConnection</title>
<meta name="date" content="2014-04-09">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PaymentChannelServer.ServerConnection";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PaymentChannelServer.ServerConnection.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/google/bitcoin/protocols/channels/PaymentChannelServer.html" title="class in com.google.bitcoin.protocols.channels"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/google/bitcoin/protocols/channels/PaymentChannelServerListener.html" title="class in com.google.bitcoin.protocols.channels"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/google/bitcoin/protocols/channels/PaymentChannelServer.ServerConnection.html" target="_top">Frames</a></li>
<li><a href="PaymentChannelServer.ServerConnection.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.google.bitcoin.protocols.channels</div>
<h2 title="Interface PaymentChannelServer.ServerConnection" class="title">Interface PaymentChannelServer.ServerConnection</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../com/google/bitcoin/protocols/channels/ChannelTestUtils.RecordingServerConnection.html" title="class in com.google.bitcoin.protocols.channels">ChannelTestUtils.RecordingServerConnection</a></dd>
</dl>
<dl>
<dt>Enclosing class:</dt>
<dd><a href="../../../../../com/google/bitcoin/protocols/channels/PaymentChannelServer.html" title="class in com.google.bitcoin.protocols.channels">PaymentChannelServer</a></dd>
</dl>
<hr>
<br>
<pre>public static interface <span class="strong">PaymentChannelServer.ServerConnection</span></pre>
<div class="block">Implements the connection between this server and the client, providing an interface which allows messages to be
 sent to the client, requests for the connection to the client to be closed, and callbacks which occur when the
 channel is fully open or the client completes a payment.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/channels/PaymentChannelServer.ServerConnection.html#channelOpen(com.google.bitcoin.core.Sha256Hash)">channelOpen</a></strong>(<a href="../../../../../com/google/bitcoin/core/Sha256Hash.html" title="class in com.google.bitcoin.core">Sha256Hash</a>&nbsp;contractHash)</code>
<div class="block">Triggered when the channel is opened and payments can begin</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/channels/PaymentChannelServer.ServerConnection.html#destroyConnection(com.google.bitcoin.protocols.channels.PaymentChannelCloseException.CloseReason)">destroyConnection</a></strong>(<a href="../../../../../com/google/bitcoin/protocols/channels/PaymentChannelCloseException.CloseReason.html" title="enum in com.google.bitcoin.protocols.channels">PaymentChannelCloseException.CloseReason</a>&nbsp;reason)</code>
<div class="block">Requests that the connection to the client be closed</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/channels/PaymentChannelServer.ServerConnection.html#paymentIncrease(java.math.BigInteger, java.math.BigInteger)">paymentIncrease</a></strong>(java.math.BigInteger&nbsp;by,
               java.math.BigInteger&nbsp;to)</code>
<div class="block">Called when the payment in this channel was successfully incremented by the client</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/google/bitcoin/protocols/channels/PaymentChannelServer.ServerConnection.html#sendToClient(org.bitcoin.paymentchannel.Protos.TwoWayChannelMessage)">sendToClient</a></strong>(<a href="../../../../../org/bitcoin/paymentchannel/Protos.TwoWayChannelMessage.html" title="class in org.bitcoin.paymentchannel">Protos.TwoWayChannelMessage</a>&nbsp;msg)</code>
<div class="block">Requests that the given message be sent to the client.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="sendToClient(org.bitcoin.paymentchannel.Protos.TwoWayChannelMessage)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendToClient</h4>
<pre>void&nbsp;sendToClient(<a href="../../../../../org/bitcoin/paymentchannel/Protos.TwoWayChannelMessage.html" title="class in org.bitcoin.paymentchannel">Protos.TwoWayChannelMessage</a>&nbsp;msg)</pre>
<div class="block"><p>Requests that the given message be sent to the client. There are no blocking requirements for this method,
 however the order of messages must be preserved.</p>

 <p>If the send fails, no exception should be thrown, however
 <a href="../../../../../com/google/bitcoin/protocols/channels/PaymentChannelServer.html#connectionClosed()"><code>PaymentChannelServer.connectionClosed()</code></a> should be called immediately.</p>

 <p>Called while holding a lock on the <a href="../../../../../com/google/bitcoin/protocols/channels/PaymentChannelServer.html" title="class in com.google.bitcoin.protocols.channels"><code>PaymentChannelServer</code></a> object - be careful about reentrancy</p></div>
</li>
</ul>
<a name="destroyConnection(com.google.bitcoin.protocols.channels.PaymentChannelCloseException.CloseReason)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroyConnection</h4>
<pre>void&nbsp;destroyConnection(<a href="../../../../../com/google/bitcoin/protocols/channels/PaymentChannelCloseException.CloseReason.html" title="enum in com.google.bitcoin.protocols.channels">PaymentChannelCloseException.CloseReason</a>&nbsp;reason)</pre>
<div class="block"><p>Requests that the connection to the client be closed</p>

 <p>Called while holding a lock on the <a href="../../../../../com/google/bitcoin/protocols/channels/PaymentChannelServer.html" title="class in com.google.bitcoin.protocols.channels"><code>PaymentChannelServer</code></a> object - be careful about reentrancy</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>reason</code> - The reason for the closure, see the individual values for more details.
               It is usually safe to ignore this value.</dd></dl>
</li>
</ul>
<a name="channelOpen(com.google.bitcoin.core.Sha256Hash)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>channelOpen</h4>
<pre>void&nbsp;channelOpen(<a href="../../../../../com/google/bitcoin/core/Sha256Hash.html" title="class in com.google.bitcoin.core">Sha256Hash</a>&nbsp;contractHash)</pre>
<div class="block"><p>Triggered when the channel is opened and payments can begin</p>

 <p>Called while holding a lock on the <a href="../../../../../com/google/bitcoin/protocols/channels/PaymentChannelServer.html" title="class in com.google.bitcoin.protocols.channels"><code>PaymentChannelServer</code></a> object - be careful about reentrancy</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>contractHash</code> - A unique identifier which represents this channel (actually the hash of the multisig contract)</dd></dl>
</li>
</ul>
<a name="paymentIncrease(java.math.BigInteger, java.math.BigInteger)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>paymentIncrease</h4>
<pre>void&nbsp;paymentIncrease(java.math.BigInteger&nbsp;by,
                   java.math.BigInteger&nbsp;to)</pre>
<div class="block"><p>Called when the payment in this channel was successfully incremented by the client</p>

 <p>Called while holding a lock on the <a href="../../../../../com/google/bitcoin/protocols/channels/PaymentChannelServer.html" title="class in com.google.bitcoin.protocols.channels"><code>PaymentChannelServer</code></a> object - be careful about reentrancy</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>by</code> - The increase in total payment</dd><dd><code>to</code> - The new total payment to us (not including fees which may be required to claim the payment)</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PaymentChannelServer.ServerConnection.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/google/bitcoin/protocols/channels/PaymentChannelServer.html" title="class in com.google.bitcoin.protocols.channels"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/google/bitcoin/protocols/channels/PaymentChannelServerListener.html" title="class in com.google.bitcoin.protocols.channels"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/google/bitcoin/protocols/channels/PaymentChannelServer.ServerConnection.html" target="_top">Frames</a></li>
<li><a href="PaymentChannelServer.ServerConnection.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
