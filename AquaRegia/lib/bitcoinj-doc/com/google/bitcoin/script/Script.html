<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Wed Apr 09 14:55:45 CDT 2014 -->
<title>Script</title>
<meta name="date" content="2014-04-09">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Script";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Script.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../com/google/bitcoin/script/ScriptBuilder.html" title="class in com.google.bitcoin.script"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/google/bitcoin/script/Script.html" target="_top">Frames</a></li>
<li><a href="Script.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.google.bitcoin.script</div>
<h2 title="Class Script" class="title">Class Script</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.google.bitcoin.script.Script</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">Script</span>
extends java.lang.Object</pre>
<div class="block"><p>Programs embedded inside transactions that control redemption of payments.</p>

 <p>Bitcoin transactions don't specify what they do directly. Instead <a href="https://en.bitcoin.it/wiki/Script">a
 small binary stack language</a> is used to define programs that when evaluated return whether the transaction
 "accepts" or rejects the other transactions connected to it.</p>

 <p>In SPV mode, scripts are not run, because that would require all transactions to be available and lightweight
 clients don't have that data. In full mode, this class is used to run the interpreted language. It also has
 static methods for building scripts.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#MAX_SCRIPT_ELEMENT_SIZE">MAX_SCRIPT_ELEMENT_SIZE</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#Script(byte[])">Script</a></strong>(byte[]&nbsp;programBytes)</code>
<div class="block">Construct a Script that copies and wraps the programBytes array.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#Script(byte[], long)">Script</a></strong>(byte[]&nbsp;programBytes,
      long&nbsp;creationTimeSeconds)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#correctlySpends(com.google.bitcoin.core.Transaction, long, com.google.bitcoin.script.Script, boolean)">correctlySpends</a></strong>(<a href="../../../../com/google/bitcoin/core/Transaction.html" title="class in com.google.bitcoin.core">Transaction</a>&nbsp;txContainingThis,
               long&nbsp;scriptSigIndex,
               <a href="../../../../com/google/bitcoin/script/Script.html" title="class in com.google.bitcoin.script">Script</a>&nbsp;scriptPubKey,
               boolean&nbsp;enforceP2SH)</code>
<div class="block">Verifies that this script (interpreted as a scriptSig) correctly spends the given scriptPubKey.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#createInputScript(byte[])">createInputScript</a></strong>(byte[]&nbsp;signature)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#createInputScript(byte[], byte[])">createInputScript</a></strong>(byte[]&nbsp;signature,
                 byte[]&nbsp;pubkey)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#createMultiSigOutputScript(int, java.util.List)">createMultiSigOutputScript</a></strong>(int&nbsp;threshold,
                          java.util.List&lt;<a href="../../../../com/google/bitcoin/core/ECKey.html" title="class in com.google.bitcoin.core">ECKey</a>&gt;&nbsp;pubkeys)</code>
<div class="block">Creates a program that requires at least N of the given keys to sign, using OP_CHECKMULTISIG.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#decodeFromOpN(byte)">decodeFromOpN</a></strong>(byte&nbsp;opcode)</code>
<div class="block">Converts an opcode to its int representation (including OP_1NEGATE and OP_0/OP_FALSE)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#equals(java.lang.Object)">equals</a></strong>(java.lang.Object&nbsp;obj)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../com/google/bitcoin/script/ScriptChunk.html" title="class in com.google.bitcoin.script">ScriptChunk</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#getChunks()">getChunks</a></strong>()</code>
<div class="block">Returns an immutable list of the scripts parsed form.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#getCreationTimeSeconds()">getCreationTimeSeconds</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/google/bitcoin/core/Address.html" title="class in com.google.bitcoin.core">Address</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#getFromAddress(com.google.bitcoin.core.NetworkParameters)">getFromAddress</a></strong>(<a href="../../../../com/google/bitcoin/core/NetworkParameters.html" title="class in com.google.bitcoin.core">NetworkParameters</a>&nbsp;params)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#getP2SHSigOpCount(byte[])">getP2SHSigOpCount</a></strong>(byte[]&nbsp;scriptSig)</code>
<div class="block">Gets the count of P2SH Sig Ops in the Script scriptSig</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#getProgram()">getProgram</a></strong>()</code>
<div class="block">Returns the serialized program as a newly created byte array.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#getPubKey()">getPubKey</a></strong>()</code>
<div class="block">Returns the public key in this script.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#getPubKeyHash()">getPubKeyHash</a></strong>()</code>
<div class="block">If a program matches the standard template DUP HASH160 <pubkey hash> EQUALVERIFY CHECKSIG
 then this function retrieves the third element, otherwise it throws a ScriptException.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#getSigOpCount(byte[])">getSigOpCount</a></strong>(byte[]&nbsp;program)</code>
<div class="block">Gets the count of regular SigOps in the script program (counting multisig ops as 20)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/google/bitcoin/core/Address.html" title="class in com.google.bitcoin.core">Address</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#getToAddress(com.google.bitcoin.core.NetworkParameters)">getToAddress</a></strong>(<a href="../../../../com/google/bitcoin/core/NetworkParameters.html" title="class in com.google.bitcoin.core">NetworkParameters</a>&nbsp;params)</code>
<div class="block">Gets the destination address from this script, if it's in the required form (see getPubKey).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#hashCode()">hashCode</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#isPayToScriptHash()">isPayToScriptHash</a></strong>()</code>
<div class="block">Whether or not this is a scriptPubKey representing a pay-to-script-hash output.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#isSentToAddress()">isSentToAddress</a></strong>()</code>
<div class="block">Returns true if this script is of the form DUP HASH160 <pubkey hash> EQUALVERIFY CHECKSIG, ie, payment to an
 address like 1VayNert3x1KzbpzMGt2qdqrAThiRovi8.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#isSentToMultiSig()">isSentToMultiSig</a></strong>()</code>
<div class="block">Returns whether this script matches the format used for multisig outputs: [n] [keys...] [m] CHECKMULTISIG</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#isSentToP2SH()">isSentToP2SH</a></strong>()</code>
<div class="block">Returns true if this script is of the form OP_HASH160 <scriptHash> OP_EQUAL, ie, payment to an
 address like 35b9vsyH1KoFT5a5KtrKusaCcPLkiSo1tU.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#isSentToRawPubKey()">isSentToRawPubKey</a></strong>()</code>
<div class="block">Returns true if this script is of the form <sig> OP_CHECKSIG.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#removeAllInstancesOf(byte[], byte[])">removeAllInstancesOf</a></strong>(byte[]&nbsp;inputScript,
                    byte[]&nbsp;chunkToRemove)</code>
<div class="block">Returns the script bytes of inputScript with all instances of the specified script object removed</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#removeAllInstancesOfOp(byte[], int)">removeAllInstancesOfOp</a></strong>(byte[]&nbsp;inputScript,
                      int&nbsp;opCode)</code>
<div class="block">Returns the script bytes of inputScript with all instances of the given op code removed</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#setCreationTimeSeconds(long)">setCreationTimeSeconds</a></strong>(long&nbsp;creationTimeSeconds)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#toString()">toString</a></strong>()</code>
<div class="block">Returns the program opcodes as a string, for example "[1234] DUP HASH160"</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/script/Script.html#writeBytes(java.io.OutputStream, byte[])">writeBytes</a></strong>(java.io.OutputStream&nbsp;os,
          byte[]&nbsp;buf)</code>
<div class="block">Writes out the given byte buffer to the output stream with the correct opcode prefix
 To write an integer call writeBytes(out, Utils.reverseBytes(Utils.encodeMPI(val, false)));</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>getClass, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="MAX_SCRIPT_ELEMENT_SIZE">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MAX_SCRIPT_ELEMENT_SIZE</h4>
<pre>public static final&nbsp;long MAX_SCRIPT_ELEMENT_SIZE</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#com.google.bitcoin.script.Script.MAX_SCRIPT_ELEMENT_SIZE">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Script(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Script</h4>
<pre>public&nbsp;Script(byte[]&nbsp;programBytes)
       throws <a href="../../../../com/google/bitcoin/core/ScriptException.html" title="class in com.google.bitcoin.core">ScriptException</a></pre>
<div class="block">Construct a Script that copies and wraps the programBytes array. The array is parsed and checked for syntactic
 validity.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>programBytes</code> - Array of program bytes from a transaction.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../com/google/bitcoin/core/ScriptException.html" title="class in com.google.bitcoin.core">ScriptException</a></code></dd></dl>
</li>
</ul>
<a name="Script(byte[], long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Script</h4>
<pre>public&nbsp;Script(byte[]&nbsp;programBytes,
      long&nbsp;creationTimeSeconds)
       throws <a href="../../../../com/google/bitcoin/core/ScriptException.html" title="class in com.google.bitcoin.core">ScriptException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../com/google/bitcoin/core/ScriptException.html" title="class in com.google.bitcoin.core">ScriptException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getCreationTimeSeconds()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCreationTimeSeconds</h4>
<pre>public&nbsp;long&nbsp;getCreationTimeSeconds()</pre>
</li>
</ul>
<a name="setCreationTimeSeconds(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCreationTimeSeconds</h4>
<pre>public&nbsp;void&nbsp;setCreationTimeSeconds(long&nbsp;creationTimeSeconds)</pre>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">Returns the program opcodes as a string, for example "[1234] DUP HASH160"</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="getProgram()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProgram</h4>
<pre>public&nbsp;byte[]&nbsp;getProgram()</pre>
<div class="block">Returns the serialized program as a newly created byte array.</div>
</li>
</ul>
<a name="getChunks()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChunks</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../com/google/bitcoin/script/ScriptChunk.html" title="class in com.google.bitcoin.script">ScriptChunk</a>&gt;&nbsp;getChunks()</pre>
<div class="block">Returns an immutable list of the scripts parsed form.</div>
</li>
</ul>
<a name="isSentToRawPubKey()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSentToRawPubKey</h4>
<pre>public&nbsp;boolean&nbsp;isSentToRawPubKey()</pre>
<div class="block">Returns true if this script is of the form <sig> OP_CHECKSIG. This form was originally intended for transactions
 where the peers talked to each other directly via TCP/IP, but has fallen out of favor with time due to that mode
 of operation being susceptible to man-in-the-middle attacks. It is still used in coinbase outputs and can be
 useful more exotic types of transaction, but today most payments are to addresses.</div>
</li>
</ul>
<a name="isSentToAddress()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSentToAddress</h4>
<pre>public&nbsp;boolean&nbsp;isSentToAddress()</pre>
<div class="block">Returns true if this script is of the form DUP HASH160 <pubkey hash> EQUALVERIFY CHECKSIG, ie, payment to an
 address like 1VayNert3x1KzbpzMGt2qdqrAThiRovi8. This form was originally intended for the case where you wish
 to send somebody money with a written code because their node is offline, but over time has become the standard
 way to make payments due to the short and recognizable base58 form addresses come in.</div>
</li>
</ul>
<a name="isSentToP2SH()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSentToP2SH</h4>
<pre>public&nbsp;boolean&nbsp;isSentToP2SH()</pre>
<div class="block">Returns true if this script is of the form OP_HASH160 <scriptHash> OP_EQUAL, ie, payment to an
 address like 35b9vsyH1KoFT5a5KtrKusaCcPLkiSo1tU. This form was codified as part of BIP13 and BIP16,
 for pay to script hash type addresses.</div>
</li>
</ul>
<a name="getPubKeyHash()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPubKeyHash</h4>
<pre>public&nbsp;byte[]&nbsp;getPubKeyHash()
                     throws <a href="../../../../com/google/bitcoin/core/ScriptException.html" title="class in com.google.bitcoin.core">ScriptException</a></pre>
<div class="block">If a program matches the standard template DUP HASH160 <pubkey hash> EQUALVERIFY CHECKSIG
 then this function retrieves the third element, otherwise it throws a ScriptException.<p>

 This is useful for fetching the destination address of a transaction.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../com/google/bitcoin/core/ScriptException.html" title="class in com.google.bitcoin.core">ScriptException</a></code></dd></dl>
</li>
</ul>
<a name="getPubKey()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPubKey</h4>
<pre>public&nbsp;byte[]&nbsp;getPubKey()
                 throws <a href="../../../../com/google/bitcoin/core/ScriptException.html" title="class in com.google.bitcoin.core">ScriptException</a></pre>
<div class="block">Returns the public key in this script. If a script contains two constants and nothing else, it is assumed to
 be a scriptSig (input) for a pay-to-address output and the second constant is returned (the first is the
 signature). If a script contains a constant and an OP_CHECKSIG opcode, the constant is returned as it is
 assumed to be a direct pay-to-key scriptPubKey (output) and the first constant is the public key.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../com/google/bitcoin/core/ScriptException.html" title="class in com.google.bitcoin.core">ScriptException</a></code> - if the script is none of the named forms.</dd></dl>
</li>
</ul>
<a name="getFromAddress(com.google.bitcoin.core.NetworkParameters)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFromAddress</h4>
<pre>@Deprecated
public&nbsp;<a href="../../../../com/google/bitcoin/core/Address.html" title="class in com.google.bitcoin.core">Address</a>&nbsp;getFromAddress(<a href="../../../../com/google/bitcoin/core/NetworkParameters.html" title="class in com.google.bitcoin.core">NetworkParameters</a>&nbsp;params)
                       throws <a href="../../../../com/google/bitcoin/core/ScriptException.html" title="class in com.google.bitcoin.core">ScriptException</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<div class="block">For 2-element [input] scripts assumes that the paid-to-address can be derived from the public key.
 The concept of a "from address" isn't well defined in Bitcoin and you should not assume the sender of a
 transaction can actually receive coins on it. This method may be removed in future.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../com/google/bitcoin/core/ScriptException.html" title="class in com.google.bitcoin.core">ScriptException</a></code></dd></dl>
</li>
</ul>
<a name="getToAddress(com.google.bitcoin.core.NetworkParameters)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getToAddress</h4>
<pre>public&nbsp;<a href="../../../../com/google/bitcoin/core/Address.html" title="class in com.google.bitcoin.core">Address</a>&nbsp;getToAddress(<a href="../../../../com/google/bitcoin/core/NetworkParameters.html" title="class in com.google.bitcoin.core">NetworkParameters</a>&nbsp;params)
                     throws <a href="../../../../com/google/bitcoin/core/ScriptException.html" title="class in com.google.bitcoin.core">ScriptException</a></pre>
<div class="block">Gets the destination address from this script, if it's in the required form (see getPubKey).</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../com/google/bitcoin/core/ScriptException.html" title="class in com.google.bitcoin.core">ScriptException</a></code></dd></dl>
</li>
</ul>
<a name="writeBytes(java.io.OutputStream, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeBytes</h4>
<pre>public static&nbsp;void&nbsp;writeBytes(java.io.OutputStream&nbsp;os,
              byte[]&nbsp;buf)
                       throws java.io.IOException</pre>
<div class="block">Writes out the given byte buffer to the output stream with the correct opcode prefix
 To write an integer call writeBytes(out, Utils.reverseBytes(Utils.encodeMPI(val, false)));</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="createMultiSigOutputScript(int, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createMultiSigOutputScript</h4>
<pre>public static&nbsp;byte[]&nbsp;createMultiSigOutputScript(int&nbsp;threshold,
                                java.util.List&lt;<a href="../../../../com/google/bitcoin/core/ECKey.html" title="class in com.google.bitcoin.core">ECKey</a>&gt;&nbsp;pubkeys)</pre>
<div class="block">Creates a program that requires at least N of the given keys to sign, using OP_CHECKMULTISIG.</div>
</li>
</ul>
<a name="createInputScript(byte[], byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createInputScript</h4>
<pre>public static&nbsp;byte[]&nbsp;createInputScript(byte[]&nbsp;signature,
                       byte[]&nbsp;pubkey)</pre>
</li>
</ul>
<a name="createInputScript(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createInputScript</h4>
<pre>public static&nbsp;byte[]&nbsp;createInputScript(byte[]&nbsp;signature)</pre>
</li>
</ul>
<a name="decodeFromOpN(byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decodeFromOpN</h4>
<pre>public static&nbsp;int&nbsp;decodeFromOpN(byte&nbsp;opcode)
                         throws java.lang.IllegalArgumentException</pre>
<div class="block">Converts an opcode to its int representation (including OP_1NEGATE and OP_0/OP_FALSE)</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - If the opcode is not an OP_N opcode</dd></dl>
</li>
</ul>
<a name="getSigOpCount(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSigOpCount</h4>
<pre>public static&nbsp;int&nbsp;getSigOpCount(byte[]&nbsp;program)
                         throws <a href="../../../../com/google/bitcoin/core/ScriptException.html" title="class in com.google.bitcoin.core">ScriptException</a></pre>
<div class="block">Gets the count of regular SigOps in the script program (counting multisig ops as 20)</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../com/google/bitcoin/core/ScriptException.html" title="class in com.google.bitcoin.core">ScriptException</a></code></dd></dl>
</li>
</ul>
<a name="getP2SHSigOpCount(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getP2SHSigOpCount</h4>
<pre>public static&nbsp;long&nbsp;getP2SHSigOpCount(byte[]&nbsp;scriptSig)
                              throws <a href="../../../../com/google/bitcoin/core/ScriptException.html" title="class in com.google.bitcoin.core">ScriptException</a></pre>
<div class="block">Gets the count of P2SH Sig Ops in the Script scriptSig</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../com/google/bitcoin/core/ScriptException.html" title="class in com.google.bitcoin.core">ScriptException</a></code></dd></dl>
</li>
</ul>
<a name="isPayToScriptHash()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPayToScriptHash</h4>
<pre>public&nbsp;boolean&nbsp;isPayToScriptHash()</pre>
<div class="block"><p>Whether or not this is a scriptPubKey representing a pay-to-script-hash output. In such outputs, the logic that
 controls reclamation is not actually in the output at all. Instead there's just a hash, and it's up to the
 spending input to provide a program matching that hash. This rule is "soft enforced" by the network as it does
 not exist in Satoshis original implementation. It means blocks containing P2SH transactions that don't match
 correctly are considered valid, but won't be mined upon, so they'll be rapidly re-orgd out of the chain. This
 logic is defined by <a href="https://github.com/bitcoin/bips/blob/master/bip-0016.mediawiki">BIP 16</a>.</p>

 <p>bitcoinj does not support creation of P2SH transactions today. The goal of P2SH is to allow short addresses
 even for complex scripts (eg, multi-sig outputs) so they are convenient to work with in things like QRcodes or
 with copy/paste, and also to minimize the size of the unspent output set (which improves performance of the
 Bitcoin system).</p></div>
</li>
</ul>
<a name="isSentToMultiSig()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSentToMultiSig</h4>
<pre>public&nbsp;boolean&nbsp;isSentToMultiSig()</pre>
<div class="block">Returns whether this script matches the format used for multisig outputs: [n] [keys...] [m] CHECKMULTISIG</div>
</li>
</ul>
<a name="removeAllInstancesOf(byte[], byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeAllInstancesOf</h4>
<pre>public static&nbsp;byte[]&nbsp;removeAllInstancesOf(byte[]&nbsp;inputScript,
                          byte[]&nbsp;chunkToRemove)</pre>
<div class="block">Returns the script bytes of inputScript with all instances of the specified script object removed</div>
</li>
</ul>
<a name="removeAllInstancesOfOp(byte[], int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeAllInstancesOfOp</h4>
<pre>public static&nbsp;byte[]&nbsp;removeAllInstancesOfOp(byte[]&nbsp;inputScript,
                            int&nbsp;opCode)</pre>
<div class="block">Returns the script bytes of inputScript with all instances of the given op code removed</div>
</li>
</ul>
<a name="correctlySpends(com.google.bitcoin.core.Transaction, long, com.google.bitcoin.script.Script, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>correctlySpends</h4>
<pre>public&nbsp;void&nbsp;correctlySpends(<a href="../../../../com/google/bitcoin/core/Transaction.html" title="class in com.google.bitcoin.core">Transaction</a>&nbsp;txContainingThis,
                   long&nbsp;scriptSigIndex,
                   <a href="../../../../com/google/bitcoin/script/Script.html" title="class in com.google.bitcoin.script">Script</a>&nbsp;scriptPubKey,
                   boolean&nbsp;enforceP2SH)
                     throws <a href="../../../../com/google/bitcoin/core/ScriptException.html" title="class in com.google.bitcoin.core">ScriptException</a></pre>
<div class="block">Verifies that this script (interpreted as a scriptSig) correctly spends the given scriptPubKey.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>txContainingThis</code> - The transaction in which this input scriptSig resides.
                         Accessing txContainingThis from another thread while this method runs results in undefined behavior.</dd><dd><code>scriptSigIndex</code> - The index in txContainingThis of the scriptSig (note: NOT the index of the scriptPubKey).</dd><dd><code>scriptPubKey</code> - The connected scriptPubKey containing the conditions needed to claim the value.</dd><dd><code>enforceP2SH</code> - Whether "pay to script hash" rules should be enforced. If in doubt, set to true.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../com/google/bitcoin/core/ScriptException.html" title="class in com.google.bitcoin.core">ScriptException</a></code></dd></dl>
</li>
</ul>
<a name="equals(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>equals</h4>
<pre>public&nbsp;boolean&nbsp;equals(java.lang.Object&nbsp;obj)</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>equals</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="hashCode()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>hashCode</h4>
<pre>public&nbsp;int&nbsp;hashCode()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>hashCode</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Script.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../com/google/bitcoin/script/ScriptBuilder.html" title="class in com.google.bitcoin.script"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/google/bitcoin/script/Script.html" target="_top">Frames</a></li>
<li><a href="Script.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
